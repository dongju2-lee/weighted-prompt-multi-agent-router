# πƒ μ΄λ™ μ¶”μ² μ‹μ¤ν… λ©€ν‹°ν”„λ΅μ„Έμ¤ ν…μ¤νΈ

μ΄ λ””λ ‰ν† λ¦¬λ” μ΄λ™ μ¶”μ² μ‹μ¤ν…μ λΌμ°ν… μ„±λ¥μ„ λ€κ·λ¨λ΅ ν…μ¤νΈν•κ³  λ¶„μ„ν•λ” λ„κµ¬λ“¤μ„ ν¬ν•¨ν•©λ‹λ‹¤.

## π“ νμΌ κµ¬μ„±

- `multi_test.sh`: 500λ² λ©€ν‹°ν”„λ΅μ„Έμ¤ ν…μ¤νΈ μ‹¤ν–‰ μ¤ν¬λ¦½νΈ
- `analyze_results.py`: ν…μ¤νΈ κ²°κ³Ό λ¶„μ„ λ° λ¦¬ν¬νΈ μƒμ„± μ¤ν¬λ¦½νΈ
- `README.md`: μ‚¬μ©λ²• μ„¤λ…μ„

## π€ μ‚¬μ©λ²•

### 1. API μ„λ²„ μ‹¤ν–‰
λ¨Όμ € μ΄λ™ μ¶”μ² API μ„λ²„κ°€ μ‹¤ν–‰ μ¤‘μ΄μ–΄μ•Ό ν•©λ‹λ‹¤:
```bash
cd ../run_dir
python3 run_api.py
```

### 2. ν…μ¤νΈ μ‹¤ν–‰
```bash
cd src/test_dir
./multi_test.sh
```

## β™οΈ μ„¤μ • μµμ…

`multi_test.sh` μ¤ν¬λ¦½νΈμ—μ„ λ‹¤μ μ„¤μ •μ„ λ³€κ²½ν•  μ μμµλ‹λ‹¤:

```bash
API_URL="http://localhost:8000/sports-agent-route"  # API μ—”λ“ν¬μΈνΈ
TEST_QUERY="μ‹¬μ‹¬ν•΄"                                 # ν…μ¤νΈν•  μ§λ¬Έ
TOTAL_TESTS=500                                    # μ΄ ν…μ¤νΈ νμ
CONCURRENT_JOBS=50                                 # λ™μ‹ μ‹¤ν–‰ ν”„λ΅μ„Έμ¤ μ
```

## π“ λ¶„μ„ κ²°κ³Ό

ν…μ¤νΈ μ™„λ£ ν›„ `test_results_YYYYMMDD_HHMMSS` λ””λ ‰ν† λ¦¬μ— λ‹¤μ νμΌλ“¤μ΄ μƒμ„±λ©λ‹λ‹¤:

### 1. κ°λ³„ ν…μ¤νΈ κ²°κ³Ό
- `test_1.json`, `test_2.json`, ... : κ° ν…μ¤νΈμ μƒμ„Έ μ‘λ‹µ

### 2. λ¶„μ„ λ¦¬ν¬νΈ
- `analysis_report.md`: μƒμ„Έν• λ¶„μ„ λ¦¬ν¬νΈ (λ§ν¬λ‹¤μ΄)
- `analysis_data.json`: λ¶„μ„ λ°μ΄ν„° (JSON)

## π“ λ¶„μ„ λ‚΄μ©

### ν•µμ‹¬ λ¶„μ„ μ§€ν‘
1. **ν”„λ΅¬ν”„νΈ vs μ‹¤μ  λΌμ°ν… λΉ„μ¨ λΉ„κµ**
   - Geminiμ—κ² μ κ³µλ κ°€μ¤‘μΉ μ μ© λΉ„μ¨
   - μ‹¤μ  μ„ νƒλ μ—μ΄μ „νΈ λ¶„ν¬
   - λ‘ λΉ„μ¨ κ°„μ μ°¨μ΄ λ° μ°¨μ΄μ¨

2. **μ‹μ¤ν… μ„±λ¥**
   - μ„±κ³µλ¥  λ° μ‹¤ν¨μ¨
   - μ΄λ‹Ή μ²λ¦¬λ‰ (requests/sec)
   - μ‘λ‹µ μ‹κ°„ λ¶„μ„

3. **λΌμ°ν… μ •ν™•λ„**
   - κ° μ—μ΄μ „νΈλ³„ μ„ νƒ λΉλ„
   - κ°€μ¤‘μΉ μ„¤μ •μ ν¨κ³Ό λ¶„μ„
   - Gemini μ‘λ‹µ ν¨ν„΄ λ¶„μ„

### μƒν” λ¦¬ν¬νΈ κµ¬μ΅°
```
# πƒ μ΄λ™ μ¶”μ² μ‹μ¤ν… λΌμ°ν… λ¶„μ„ λ¦¬ν¬νΈ

## π“ ν…μ¤νΈ κ°μ”
- ν…μ¤νΈ μ§λ¬Έ: "μ‹¬μ‹¬ν•΄"
- μ΄ ν…μ¤νΈ μ: 500
- μ„±κ³µλ¥ : 99.2%
- μ‹¤ν–‰ μ‹κ°„: 45μ΄

## π― λΌμ°ν… κ²°κ³Ό λ¶„μ„
### μ‹¤μ  λΌμ°ν… λ¶„ν¬
- ν…λ‹μ¤_μ—μ΄μ „νΈ: 145ν (29.0%)
- μ¶•κµ¬_μ—μ΄μ „νΈ: 118ν (23.6%)
- ...

### ν”„λ΅¬ν”„νΈ vs μ‹¤μ  λΌμ°ν… λΉ„μ¨ λΉ„κµ
| μ—μ΄μ „νΈ | ν”„λ΅¬ν”„νΈ λΉ„μ¨ | μ‹¤μ  λΉ„μ¨ | μ°¨μ΄ | μ°¨μ΄μ¨ |
|---------|-------------|----------|------|--------|
| ν…λ‹μ¤_μ—μ΄μ „νΈ | 28.6% | 29.0% | +0.4% | +1.4% |
...

## π¤– Gemini μ‘λ‹µ λ¶„μ„
(μƒν” μ‘λ‹µ λ° ν¨ν„΄ λ¶„μ„)

## π“ λ¶„μ„ κ²°λ΅ 
(κ¶μ¥μ‚¬ν•­ λ° κ°μ„ μ )
```

## π”§ κ³ κΈ‰ μ‚¬μ©λ²•

### λ‹¤λ¥Έ μ§λ¬ΈμΌλ΅ ν…μ¤νΈ
μ¤ν¬λ¦½νΈμ—μ„ `TEST_QUERY` λ³€μλ¥Ό λ³€κ²½ν•μ—¬ λ‹¤λ¥Έ μ§λ¬Έμ„ ν…μ¤νΈν•  μ μμµλ‹λ‹¤:
```bash
TEST_QUERY="μ¶•κµ¬ ν•κ³  μ‹¶μ–΄"
TEST_QUERY="λ†κµ¬μ¥ μ–΄λ”” μμ–΄?"
TEST_QUERY="μ΄λ™ μ¶”μ²ν•΄μ¤"
```

### μ„±λ¥ μ΅°μ •
- `CONCURRENT_JOBS`: λ™μ‹ μ‹¤ν–‰ ν”„λ΅μ„Έμ¤ μ μ΅°μ • (μ‹μ¤ν… μ„±λ¥μ— λ”°λΌ)
- `TOTAL_TESTS`: ν…μ¤νΈ νμ μ΅°μ • (λ” μ •ν™•ν• λ¶„μ„μ„ μ„ν•΄ μ¦κ°€ κ°€λ¥)

### μμ΅΄μ„±
- `curl`: HTTP μ”μ²­μ„ μ„ν•΄ ν•„μ”
- `python3`: κ²°κ³Ό λ¶„μ„μ„ μ„ν•΄ ν•„μ”
- `parallel` (μ„ νƒμ‚¬ν•­): λ” λΉ λ¥Έ λ³‘λ ¬ μ²λ¦¬λ¥Ό μ„ν•΄ μ„¤μΉ κ¶μ¥

## π’΅ ν™μ© μμ‹

1. **A/B ν…μ¤νΈ**: λ‹¤λ¥Έ κ°€μ¤‘μΉ μ„¤μ •μΌλ΅ μ—¬λ¬ λ² ν…μ¤νΈν•μ—¬ μµμ  μ„¤μ • μ°ΎκΈ°
2. **μ„±λ¥ λ²¤μΉλ§ν¬**: μ‹μ¤ν… λ¶€ν• ν…μ¤νΈ λ° μ²λ¦¬λ‰ μΈ΅μ •
3. **λΌμ°ν… μ •ν™•λ„ κ²€μ¦**: μμƒ λ¶„ν¬μ™€ μ‹¤μ  λ¶„ν¬ λΉ„κµ λ¶„μ„
4. **μ§λ¬Έλ³„ λΌμ°ν… ν¨ν„΄ λ¶„μ„**: λ‹¤μ–‘ν• μ§λ¬Έμ— λ€ν• μ—μ΄μ „νΈ μ„ νƒ ν¨ν„΄ νμ•… 